<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Land Sale Options - Sukh Meeting</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            /* Colors */
            --bg-primary: #f5f5f5;
            --bg-card: #ffffff;
            --bg-highlight: #fff3cd;
            --text-primary: #1a1a1a;
            --text-secondary: #666;
            --border-color: #333;
            --border-light: #ddd;
            --accent-primary: #856404;
            --accent-secondary: #007bff;
            --success: #28a745;
            --warning: #ffc107;
            
            /* Spacing */
            --spacing-xs: 8px;
            --spacing-sm: 12px;
            --spacing-md: 20px;
            --spacing-lg: 30px;
            
            /* Typography */
            --font-base: 20px;
            --font-sm: 16px;
            --font-lg: 24px;
            --font-xl: 32px;
            
            /* Borders */
            --border-width: 2px;
            --border-radius: 0;
            
            /* Shadows */
            --shadow-sm: 2px 2px 0px var(--border-color);
            --shadow-md: 3px 3px 0px var(--border-color);
        }
        
        html {
            overflow-x: hidden;
            width: 100%;
        }
        
        body {
            font-family: 'Courier New', Courier, monospace;
            font-size: var(--font-base);
            line-height: 1.6;
            padding: var(--spacing-lg);
            max-width: 1200px;
            margin: 0 auto;
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
            width: 100%;
        }
        
        /* Grid Layout */
        .page-container {
            display: grid;
            gap: var(--spacing-lg);
            grid-template-columns: 1fr;
        }
        
        h1 {
            font-size: 32px;
            margin-bottom: 10px;
            border-bottom: 3px solid #333;
            padding-bottom: 10px;
        }
        
        .meeting-info {
            font-size: 18px;
            margin-bottom: 20px;
            color: #666;
        }
        
        .bayana-terms {
            background: var(--bg-highlight);
            border: var(--border-width) solid var(--accent-primary);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow-md);
            display: grid;
            gap: var(--spacing-md);
        }
        
        .terms-header {
            font-size: var(--font-lg);
            font-weight: bold;
            border-bottom: var(--border-width) solid var(--accent-primary);
            padding-bottom: var(--spacing-xs);
        }
        
        .terms-grid {
            display: grid;
            gap: var(--spacing-xs);
        }
        
        .term-row {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-sm);
            font-size: var(--font-sm);
        }
        
        .term-label {
            font-weight: bold;
        }
        
        .term-value {
            text-align: right;
        }
        
        .registry-fields {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-md);
            padding: var(--spacing-md);
            background: var(--bg-card);
            border: var(--border-width) solid var(--accent-primary);
        }
        
        .field-group {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-xs);
        }
        
        .field-group label {
            font-weight: bold;
            font-size: var(--font-sm);
        }
        
        .field-group input[type="date"],
        .field-group input[type="time"] {
            font-family: 'Courier New', Courier, monospace;
            font-size: var(--font-base);
            padding: var(--spacing-sm);
            border: var(--border-width) solid var(--border-color);
        }
        
        .time-essence-clause {
            background: var(--bg-card);
            padding: var(--spacing-sm);
            border: var(--border-width) solid var(--accent-primary);
            font-size: var(--font-sm);
            line-height: 1.8;
        }
        
        .size-selector {
            background: var(--bg-card);
            border: var(--border-width) solid var(--border-color);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow-md);
            display: grid;
            gap: var(--spacing-md);
        }
        
        .selector-header {
            font-size: var(--font-lg);
            font-weight: bold;
        }
        
        .size-options {
            display: grid;
            gap: var(--spacing-sm);
        }
        
        .size-option {
            display: flex;
            align-items: center;
            padding: var(--spacing-sm);
            border: var(--border-width) solid var(--border-light);
            cursor: pointer;
            background: var(--bg-primary);
            transition: all 0.2s ease;
        }
        
        .size-option:hover {
            background: #e9e9e9;
            border-color: var(--border-color);
        }
        
        .size-option input[type="radio"] {
            width: 24px;
            height: 24px;
            margin-right: var(--spacing-sm);
            cursor: pointer;
        }
        
        .size-label {
            font-size: var(--font-lg);
            font-weight: bold;
            flex: 1;
        }
        
        .size-detail {
            font-size: var(--font-sm);
            color: var(--text-secondary);
        }
        
        .offer-expiry {
            background: var(--bg-highlight);
            padding: var(--spacing-sm);
            border: var(--border-width) solid var(--accent-primary);
            font-weight: bold;
            text-align: center;
            font-size: var(--font-sm);
        }
        
        .option-card {
            background: var(--bg-card);
            border: var(--border-width) solid var(--border-color);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow-md);
            display: grid;
            gap: var(--spacing-md);
        }
        
        .option-header {
            font-size: var(--font-lg);
            font-weight: bold;
            margin-bottom: var(--spacing-sm);
            border-bottom: var(--border-width) solid var(--border-color);
            padding-bottom: var(--spacing-xs);
            grid-column: 1 / -1;
        }
        
        .option-details {
            display: grid;
            gap: var(--spacing-xs);
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }
        
        .detail-row {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-sm);
            font-size: var(--font-base);
            padding: var(--spacing-xs) 0;
        }
        
        .detail-label {
            font-weight: bold;
            color: var(--text-secondary);
        }
        
        .detail-value {
            text-align: right;
            color: var(--text-primary);
        }
        
        .notes-section {
            margin-top: 20px;
            border-top: 2px dashed #666;
            padding-top: 20px;
        }
        
        .notes-label {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        textarea {
            width: 100%;
            min-height: 150px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 20px;
            padding: 15px;
            border: 2px solid #333;
            resize: vertical;
            background: #fffef8;
        }
        
        textarea:focus {
            outline: none;
            border-color: #000;
            background: #fff;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        
        button {
            font-family: 'Courier New', Courier, monospace;
            font-size: 18px;
            padding: 12px 24px;
            background: #333;
            color: white;
            border: 2px solid #333;
            cursor: pointer;
            font-weight: bold;
        }
        
        button:hover {
            background: #000;
            border-color: #000;
        }
        
        button.delete {
            background: #dc3545;
            border-color: #dc3545;
        }
        
        button.delete:hover {
            background: #c82333;
            border-color: #c82333;
        }
        
        .export-section {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            gap: 15px;
        }
        
        .export-btn {
            font-size: 22px;
            padding: 18px 36px;
            background: #28a745;
            border-color: #28a745;
            box-shadow: 4px 4px 0px #333;
        }
        
        .export-btn:hover {
            background: #218838;
            border-color: #218838;
        }
        
        .send-btn {
            font-size: 22px;
            padding: 18px 36px;
            background: #007bff;
            border-color: #007bff;
            box-shadow: 4px 4px 0px #333;
        }
        
        .send-btn:hover {
            background: #0056b3;
            border-color: #0056b3;
        }
        
        .saved-indicator {
            font-size: 16px;
            color: #28a745;
            margin-top: 5px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .saved-indicator.show {
            opacity: 1;
        }
        
        /* Table Container - Horizontal Scroll Only */
        .table-wrapper {
            width: 100%;
            overflow-x: auto;
            overflow-y: visible;
            -webkit-overflow-scrolling: touch;
            margin: var(--spacing-lg) 0;
            border: var(--border-width) solid var(--border-color);
            background: var(--bg-card);
            box-shadow: var(--shadow-md);
            /* Scrollbar styling */
            scrollbar-width: thin;
            scrollbar-color: var(--border-color) var(--bg-card);
        }
        
        .table-wrapper::-webkit-scrollbar {
            height: 10px;
        }
        
        .table-wrapper::-webkit-scrollbar-track {
            background: var(--bg-card);
        }
        
        .table-wrapper::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border: 1px solid var(--bg-card);
        }
        
        .table-wrapper::-webkit-scrollbar-thumb:hover {
            background: var(--text-primary);
        }
        
        .comparison-table {
            width: 100%;
            min-width: 700px; /* Minimum width for all columns */
            border-collapse: collapse;
            background: var(--bg-card);
        }
        
        .comparison-table th,
        .comparison-table td {
            border: var(--border-width) solid var(--border-color);
            padding: var(--spacing-sm);
            text-align: left;
            font-size: var(--font-sm);
            white-space: nowrap;
        }
        
        .comparison-table th {
            background: var(--border-color);
            color: white;
            font-weight: bold;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 30px;
            border: 3px solid #333;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 5px 5px 0px #333;
        }
        
        .modal-header {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
            border-bottom: 3px solid #333;
            padding-bottom: 10px;
        }
        
        .preview-area {
            background: #f9f9f9;
            border: 2px solid #666;
            padding: 20px;
            margin-bottom: 20px;
            font-size: 16px;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .phone-input-group {
            margin-bottom: 20px;
        }
        
        .phone-label {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
            display: block;
        }
        
        .phone-input-row {
            display: flex;
            gap: 10px;
            align-items: stretch;
        }
        
        input[type="tel"] {
            flex: 1;
            font-family: 'Courier New', Courier, monospace;
            font-size: 20px;
            padding: 15px;
            border: 2px solid #333;
        }
        
        input[type="tel"]:focus {
            outline: none;
            border-color: #000;
        }
        
        .browse-contacts-btn {
            font-size: 20px;
            padding: 15px 24px;
            background: #6c757d;
            border-color: #6c757d;
            white-space: nowrap;
        }
        
        .browse-contacts-btn:hover {
            background: #5a6268;
            border-color: #5a6268;
        }
        
        .modal-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .modal-buttons button {
            flex: 1;
            font-size: 20px;
            padding: 15px;
        }
        
        .whatsapp-btn {
            background: #25D366;
            border-color: #25D366;
        }
        
        .whatsapp-btn:hover {
            background: #128C7E;
            border-color: #128C7E;
        }
        
        .cancel-btn {
            background: #6c757d;
            border-color: #6c757d;
        }
        
        .cancel-btn:hover {
            background: #5a6268;
            border-color: #5a6268;
        }
        
        /* Toast Notifications */
        .toast {
            position: fixed;
            bottom: 100px;
            right: 30px;
            background: #333;
            color: white;
            padding: 20px 30px;
            border-radius: 0;
            border: 2px solid #333;
            box-shadow: 4px 4px 0px #000;
            font-size: 18px;
            z-index: 9999;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
        
        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .toast.success {
            background: #28a745;
            border-color: #28a745;
        }
        
        .toast.info {
            background: #17a2b8;
            border-color: #17a2b8;
        }
        
        .footer {
            text-align: center;
            font-size: 12px;
            color: #666;
            padding: 30px 0 80px 0;
            margin-top: 50px;
            border-top: 1px solid #ddd;
        }
        
        /* Controls Widget */
        .controls-widget {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border: 2px solid #333;
            padding: 15px;
            box-shadow: 3px 3px 0px #333;
            z-index: 999;
            display: flex;
            gap: 15px;
            align-items: center;
            font-size: 16px !important;
        }
        
        .control-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .control-label {
            font-size: 14px !important;
            font-weight: bold;
        }
        
        .font-control {
            display: flex;
            gap: 5px;
        }
        
        .font-btn {
            font-size: 14px !important;
            padding: 8px 12px;
            background: #f0f0f0;
            color: #000;
            border: 2px solid #333;
            cursor: pointer;
            font-weight: bold;
            min-width: 40px;
            font-family: 'Courier New', Courier, monospace !important;
        }
        
        .font-btn:hover {
            background: #e0e0e0;
            color: #000;
        }
        
        .font-btn:active {
            background: #d0d0d0;
        }
        
        body.dark-theme .font-btn {
            background: #444;
            color: #fff;
            border-color: #666;
        }
        
        body.dark-theme .font-btn:hover {
            background: #555;
            color: #fff;
        }
        
        body.dark-theme .font-btn:active {
            background: #666;
        }
        
        .theme-toggle {
            position: relative;
            width: 50px;
            height: 26px;
            background: #e0e0e0;
            border: 2px solid #333;
            cursor: pointer;
        }
        
        .theme-toggle.dark {
            background: #555;
            border-color: #666;
        }
        
        .theme-slider {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #333;
            top: 1px;
            left: 2px;
            transition: 0.3s;
            border: 1px solid #000;
        }
        
        .theme-toggle.dark .theme-slider {
            left: 24px;
            background: #fff;
            border-color: #ccc;
        }
        
        /* Dark theme */
        /* Dark Theme - Uses CSS Variables */
        body.dark-theme {
            --bg-primary: #1a1a1a;
            --bg-card: #2a2a2a;
            --bg-highlight: #2d2000;
            --text-primary: #e0e0e0;
            --text-secondary: #aaa;
            --border-color: #666;
            --border-light: #444;
            --shadow-sm: 2px 2px 0px #555;
            --shadow-md: 3px 3px 0px #555;
        }
        
        body.dark-theme h1,
        body.dark-theme .option-header,
        body.dark-theme .terms-header,
        body.dark-theme .selector-header {
            color: #fff;
        }
        
        body.dark-theme .meeting-info {
            color: var(--text-secondary);
        }
        
        body.dark-theme .footer {
            color: #888;
        }
        
        body.dark-theme strong,
        body.dark-theme .detail-value strong {
            color: #4fc3f7;
        }
        
        body.dark-theme .comparison-table th {
            background: #1a1a1a;
            color: #fff;
        }
        
        body.dark-theme .comparison-table td strong {
            color: #4fc3f7;
        }
        
        body.dark-theme .size-option {
            background: #333;
        }
        
        body.dark-theme .size-option:hover {
            background: #444;
        }
        
        body.dark-theme textarea,
        body.dark-theme input[type="date"],
        body.dark-theme input[type="time"],
        body.dark-theme input[type="tel"] {
            background: #1a1a1a;
            color: var(--text-primary);
        }
        
        body.dark-theme .preview-area,
        body.dark-theme .registry-fields,
        body.dark-theme .time-essence-clause {
            background: #333;
            color: var(--text-primary);
        }
        
        body.dark-theme .bayana-terms .term-row[style*="background"],
        body.dark-theme .offer-expiry {
            background: var(--accent-primary) !important;
            color: #fff !important;
        }
        
        body.dark-theme .bayana-terms .term-row[style*="background"] .term-label,
        body.dark-theme .bayana-terms .term-row[style*="background"] .term-value {
            color: #fff !important;
        }
        
        body.dark-theme .export-section {
            background: var(--bg-card);
        }
        
        body.dark-theme .table-wrapper::-webkit-scrollbar-track {
            background: var(--bg-card);
        }
        
        body.dark-theme .table-wrapper::-webkit-scrollbar-thumb {
            background: var(--border-color);
        }
        
        @media print {
            .export-section, .toast, .controls-widget {
                display: none;
            }
            body {
                background: white;
            }
        }
        
        /* Mobile Responsive */
        @media screen and (max-width: 768px) {
            :root {
                --font-base: 18px;
                --font-sm: 14px;
                --font-lg: 20px;
                --font-xl: 24px;
                --spacing-sm: 8px;
                --spacing-md: 12px;
                --spacing-lg: 15px;
            }
            
            body {
                padding: 10px;
            }
            
            /* Controls widget - full width at top */
            .controls-widget {
                position: static;
                width: 100%;
                margin-bottom: var(--spacing-md);
                flex-direction: column;
                gap: var(--spacing-sm);
            }
            
            .control-group {
                justify-content: space-between;
                width: 100%;
            }
            
            /* Grid adjustments */
            .option-details {
                grid-template-columns: 1fr;
            }
            
            .detail-row {
                flex-direction: column;
                gap: 4px;
            }
            
            .detail-label, .detail-value {
                text-align: left;
            }
            
            /* Table wrapper - horizontal scroll only */
            .table-wrapper {
                margin: var(--spacing-md) 0;
                border-left: none;
                border-right: none;
            }
            
            .comparison-table {
                min-width: 600px; /* Ensures horizontal scroll */
            }
            
            .comparison-table th,
            .comparison-table td {
                font-size: 12px;
                padding: 6px 4px;
            }
            
            /* Registry fields stack */
            .registry-fields {
                grid-template-columns: 1fr;
            }
            
            /* Size options */
            .size-option {
                flex-wrap: wrap;
            }
            
            /* Buttons full width */
            button {
                width: 100%;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            /* Export section */
            .export-section {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                width: 100vw;
                flex-direction: column;
                gap: 0;
                padding: 10px;
                background: var(--bg-card);
                border-top: var(--border-width) solid var(--border-color);
                box-shadow: 0 -3px 10px rgba(0,0,0,0.2);
            }
            
            .export-btn, .send-btn {
                width: 100%;
                box-shadow: none;
            }
            
            /* Modal */
            .modal-content {
                width: 95vw;
                max-width: 95vw;
            }
            
            .phone-input-row {
                flex-direction: column;
            }
            
            .modal-buttons {
                flex-direction: column;
            }
            
            /* Toast */
            .toast {
                bottom: 140px;
                left: 10px;
                right: 10px;
                width: calc(100vw - 20px);
            }
            
            /* Footer */
            .footer {
                padding-bottom: 140px;
            }
        }
        
        @media screen and (max-width: 480px) {
            body {
                padding: 10px;
                font-size: 16px;
            }
            
            h1 {
                font-size: 20px;
            }
            
            .option-header {
                font-size: 18px;
            }
            
            .comparison-table th,
            .comparison-table td {
                font-size: 12px;
                padding: 6px 3px;
            }
        }
    </style>
</head>
<body>
    <h1>LAND SALE OPTIONS - SUKH MEETING</h1>
    <div class="meeting-info">
        Date: December 12, 2025 | Settlement: March 2026
    </div>

    <!-- CONTROLS WIDGET -->
    <div class="controls-widget">
        <div class="control-group">
            <span class="control-label">Font:</span>
            <div class="font-control">
                <button class="font-btn" onclick="adjustFontSize(-2)">A-</button>
                <button class="font-btn" onclick="adjustFontSize(0)">A</button>
                <button class="font-btn" onclick="adjustFontSize(2)">A+</button>
            </div>
        </div>
        <div class="control-group">
            <span class="control-label">Theme:</span>
            <div class="theme-toggle" id="themeToggle" onclick="toggleTheme()">
                <div class="theme-slider"></div>
            </div>
        </div>
    </div>

    <!-- BAYANA TERMS SECTION -->
    <div class="bayana-terms">
        <div class="terms-header">BAYANA TERMS & CONDITIONS</div>
        <div class="terms-grid">
            <div class="term-row">
                <span class="term-label">ADVANCE PAYMENT (BAYANA):</span>
                <span class="term-value">40% of total amount</span>
            </div>
            <div class="term-row">
                <span class="term-label">PAYMENT DEADLINE:</span>
                <span class="term-value">December 31, 2025, 11:59 PM</span>
            </div>
            <div class="term-row" style="background: #ffc107; padding: 8px; margin: 8px -8px;">
                <span class="term-label">REGISTRY PERIOD:</span>
                <span class="term-value">March 2026</span>
            </div>
            <div class="term-row">
                <span class="term-label">VENUE:</span>
                <span class="term-value">Sub-Registrar Office, Pehowa Tehsil, District Kurukshetra</span>
            </div>
        </div>
        
        <div class="registry-fields">
            <div class="field-group">
                <label>REGISTRY DATE:</label>
                <input type="date" id="registryDate" min="2026-03-01" max="2026-03-31" />
            </div>
            <div class="field-group">
                <label>REGISTRY TIME:</label>
                <input type="time" id="registryTime" value="11:00" />
            </div>
        </div>
        
        <div class="time-essence-clause">
            <strong>TIME IS OF ESSENCE CLAUSE:</strong><br>
            Once registry date/time is mutually agreed and documented:<br>
            ‚Ä¢ Both parties bound to appear on exact date and time<br>
            ‚Ä¢ Failure by SELLER: Pays DOUBLE bayana to buyer<br>
            ‚Ä¢ Failure by BUYER: Forfeits entire bayana (non-refundable)
        </div>
    </div>

    <!-- SIZE SELECTOR -->
    <div class="size-selector">
        <div class="selector-header">SELECT LAND SIZE:</div>
        <div class="size-options">
            <label class="size-option">
                <input type="radio" name="landSize" value="4" onchange="updateCalculations()" />
                <span class="size-label">4 Kanals (0.5 acre)</span>
                <span class="size-detail">Buyer: 4K | Vipul keeps: 52K</span>
            </label>
            <label class="size-option">
                <input type="radio" name="landSize" value="6" checked onchange="updateCalculations()" />
                <span class="size-label">6 Kanals (0.75 acre)</span>
                <span class="size-detail">Buyer: 6K | Vipul keeps: 50K</span>
            </label>
            <label class="size-option">
                <input type="radio" name="landSize" value="8" onchange="updateCalculations()" />
                <span class="size-label">8 Kanals (1.0 acre)</span>
                <span class="size-detail">Buyer: 8K | Vipul keeps: 48K</span>
            </label>
        </div>
        <div class="offer-expiry">
            ‚ö†Ô∏è OFFER VALID UNTIL: December 31, 2025 | CURRENT MARKET: ‚Çπ70-75 Lakhs/Acre
        </div>
    </div>

    <!-- COMPARISON TABLE -->
    <div class="table-wrapper">
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>Option</th>
                    <th>Per Acre</th>
                    <th>Per Kanal</th>
                    <th>Total</th>
                    <th>Bayana (40%)</th>
                    <th>Balance (60%)</th>
                    <th>vs Market</th>
                </tr>
            </thead>
            <tbody id="comparisonTableBody">
                <!-- Populated by JavaScript -->
            </tbody>
        </table>
    </div>

    <!-- OPTION 1 -->
    <div class="option-card">
        <div class="option-header">OPTION 1: TARGET PRICE</div>
        <div class="option-details">
            <div class="detail-row">
                <span class="detail-label">Rate Per Acre:</span>
                <span class="detail-value">‚Çπ95 Lakhs</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Rate Per Kanal:</span>
                <span class="detail-value" id="opt1-perKanal">‚Çπ11.875 Lakhs</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Land Size:</span>
                <span class="detail-value" id="opt1-size">6 Kanals</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Total Amount:</span>
                <span class="detail-value"><strong id="opt1-total">‚Çπ71.25 Lakhs</strong></span>
            </div>
            <div class="detail-row" style="border-top: 2px solid #333; padding-top: 8px; margin-top: 8px;">
                <span class="detail-label">Bayana (40%):</span>
                <span class="detail-value"><strong id="opt1-bayana">‚Çπ28.50 Lakhs</strong></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Balance before Registry (60%):</span>
                <span class="detail-value" id="opt1-balance">‚Çπ42.75 Lakhs</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Premium over Market:</span>
                <span class="detail-value" id="opt1-premium">27-36%</span>
            </div>
        </div>
        
        <div class="notes-section">
            <div class="notes-label">MEETING NOTES:</div>
            <textarea id="notes-option1" placeholder="Record Sukh's response to Option 1..."></textarea>
            <div class="button-group">
                <button class="delete" onclick="clearNotes('option1')">Delete Notes</button>
            </div>
            <div class="saved-indicator" id="saved-option1">‚úì Saved</div>
        </div>
    </div>

    <!-- OPTION 2 -->
    <div class="option-card">
        <div class="option-header">OPTION 2: FLOOR PRICE</div>
        <div class="option-details">
            <div class="detail-row">
                <span class="detail-label">Rate Per Acre:</span>
                <span class="detail-value">‚Çπ90 Lakhs</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Rate Per Kanal:</span>
                <span class="detail-value" id="opt2-perKanal">‚Çπ11.25 Lakhs</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Land Size:</span>
                <span class="detail-value" id="opt2-size">6 Kanals</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Total Amount:</span>
                <span class="detail-value"><strong id="opt2-total">‚Çπ67.50 Lakhs</strong></span>
            </div>
            <div class="detail-row" style="border-top: 2px solid #333; padding-top: 8px; margin-top: 8px;">
                <span class="detail-label">Bayana (40%):</span>
                <span class="detail-value"><strong id="opt2-bayana">‚Çπ27.00 Lakhs</strong></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Balance before Registry (60%):</span>
                <span class="detail-value" id="opt2-balance">‚Çπ40.50 Lakhs</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Premium over Market:</span>
                <span class="detail-value" id="opt2-premium">20-29%</span>
            </div>
        </div>
        
        <div class="notes-section">
            <div class="notes-label">MEETING NOTES:</div>
            <textarea id="notes-option2" placeholder="Record Sukh's response to Option 2..."></textarea>
            <div class="button-group">
                <button class="delete" onclick="clearNotes('option2')">Delete Notes</button>
            </div>
            <div class="saved-indicator" id="saved-option2">‚úì Saved</div>
        </div>
    </div>

    <!-- OPTION 3 -->
    <div class="option-card">
        <div class="option-header">OPTION 3: COMPROMISE ZONE</div>
        <div class="option-details">
            <div class="detail-row">
                <span class="detail-label">Rate Per Acre:</span>
                <span class="detail-value">‚Çπ80 Lakhs</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Rate Per Kanal:</span>
                <span class="detail-value" id="opt3-perKanal">‚Çπ10.00 Lakhs</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Land Size:</span>
                <span class="detail-value" id="opt3-size">6 Kanals</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Total Amount:</span>
                <span class="detail-value"><strong id="opt3-total">‚Çπ60.00 Lakhs</strong></span>
            </div>
            <div class="detail-row" style="border-top: 2px solid #333; padding-top: 8px; margin-top: 8px;">
                <span class="detail-label">Bayana (40%):</span>
                <span class="detail-value"><strong id="opt3-bayana">‚Çπ24.00 Lakhs</strong></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Balance before Registry (60%):</span>
                <span class="detail-value" id="opt3-balance">‚Çπ36.00 Lakhs</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Premium over Market:</span>
                <span class="detail-value" id="opt3-premium">7-14%</span>
            </div>
        </div>
        
        <div class="notes-section">
            <div class="notes-label">MEETING NOTES:</div>
            <textarea id="notes-option3" placeholder="Record Sukh's response to Option 3..."></textarea>
            <div class="button-group">
                <button class="delete" onclick="clearNotes('option3')">Delete Notes</button>
            </div>
            <div class="saved-indicator" id="saved-option3">‚úì Saved</div>
        </div>
    </div>

    <!-- OPTION 4 -->
    <div class="option-card">
        <div class="option-header">OPTION 4: MARKET RATE</div>
        <div class="option-details">
            <div class="detail-row">
                <span class="detail-label">Rate Per Acre:</span>
                <span class="detail-value">‚Çπ70 Lakhs</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Rate Per Kanal:</span>
                <span class="detail-value" id="opt4-perKanal">‚Çπ8.75 Lakhs</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Land Size:</span>
                <span class="detail-value" id="opt4-size">6 Kanals</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Total Amount:</span>
                <span class="detail-value"><strong id="opt4-total">‚Çπ52.50 Lakhs</strong></span>
            </div>
            <div class="detail-row" style="border-top: 2px solid #333; padding-top: 8px; margin-top: 8px;">
                <span class="detail-label">Bayana (40%):</span>
                <span class="detail-value"><strong id="opt4-bayana">‚Çπ21.00 Lakhs</strong></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Balance before Registry (60%):</span>
                <span class="detail-value" id="opt4-balance">‚Çπ31.50 Lakhs</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Premium over Market:</span>
                <span class="detail-value" id="opt4-premium">0%</span>
            </div>
        </div>
        
        <div class="notes-section">
            <div class="notes-label">MEETING NOTES:</div>
            <textarea id="notes-option4" placeholder="Record Sukh's response to Option 4..."></textarea>
            <div class="button-group">
                <button class="delete" onclick="clearNotes('option4')">Delete Notes</button>
            </div>
            <div class="saved-indicator" id="saved-option4">‚úì Saved</div>
        </div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
        Prepared by Vipul Anand to reduce negotiation friction. For any clarification call +919896918475
    </div>

    <!-- EXPORT AND SEND BUTTONS -->
    <div class="export-section">
        <button class="send-btn" onclick="openSendModal()">SEND RESPONSE</button>
        <button class="export-btn" onclick="exportNotes()">EXPORT ALL</button>
    </div>

    <!-- SEND MODAL -->
    <div id="sendModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">SEND RESPONSE VIA WHATSAPP</div>
            
            <div class="phone-input-group">
                <label class="phone-label">WhatsApp Number:</label>
                <div class="phone-input-row">
                    <input type="tel" id="phoneNumber" placeholder="+91 98765 43210" />
                    <button class="browse-contacts-btn" onclick="browseContacts()">üì± Browse Contacts</button>
                </div>
            </div>
            
            <div class="phone-label">Message Preview:</div>
            <div class="preview-area" id="messagePreview"></div>
            
            <div class="modal-buttons">
                <button class="whatsapp-btn" onclick="sendViaWhatsApp()">Send via WhatsApp</button>
                <button class="cancel-btn" onclick="closeSendModal()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- TOAST NOTIFICATION -->
    <div id="toast" class="toast"></div>

    <script>
        // Constants
        const options = ['option1', 'option2', 'option3', 'option4'];
        const priceOptions = [
            { name: 'TARGET PRICE', perAcre: 95, premium: '27-36%' },
            { name: 'FLOOR PRICE', perAcre: 90, premium: '20-29%' },
            { name: 'COMPROMISE ZONE', perAcre: 80, premium: '7-14%' },
            { name: 'MARKET RATE', perAcre: 70, premium: '0%' }
        ];
        
        // Font size control
        let currentFontSize = 20; // Base font size
        function adjustFontSize(change) {
            if (change === 0) {
                currentFontSize = 20; // Reset to default
            } else {
                currentFontSize += change;
                currentFontSize = Math.max(16, Math.min(28, currentFontSize)); // Limit between 16-28px
            }
            
            // Update all content font sizes
            document.body.style.fontSize = currentFontSize + 'px';
            
            // Update specific elements
            const ratio = currentFontSize / 20; // Calculate ratio from base size
            document.querySelectorAll('.detail-row, .term-row, .size-label, .size-detail, textarea, .notes-label, .option-header, .terms-header, .selector-header, .comparison-table td, .comparison-table th, .offer-expiry, .time-essence-clause, .meeting-info, h1').forEach(el => {
                const baseSize = parseInt(window.getComputedStyle(el).fontSize);
                if (!el.dataset.originalSize) {
                    el.dataset.originalSize = baseSize;
                }
                const originalSize = parseInt(el.dataset.originalSize);
                el.style.fontSize = (originalSize * ratio) + 'px';
            });
            
            localStorage.setItem('sukh-font-size', currentFontSize);
            showToast(`Font size: ${currentFontSize}px`, 'info');
        }
        
        // Theme toggle
        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
            document.getElementById('themeToggle').classList.toggle('dark');
            const isDark = document.body.classList.contains('dark-theme');
            localStorage.setItem('sukh-theme', isDark ? 'dark' : 'light');
            showToast(isDark ? 'Dark theme enabled' : 'Light theme enabled', 'info');
        }
        
        // Load saved data on page load
        window.addEventListener('load', () => {
            // Load theme
            const savedTheme = localStorage.getItem('sukh-theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                document.getElementById('themeToggle').classList.add('dark');
            }
            
            // Load font size
            const savedFontSize = localStorage.getItem('sukh-font-size');
            if (savedFontSize) {
                currentFontSize = parseInt(savedFontSize);
                adjustFontSize(0); // This will apply the saved size
                currentFontSize = parseInt(savedFontSize); // Restore the saved value after reset
                document.body.style.fontSize = currentFontSize + 'px';
                
                const ratio = currentFontSize / 20;
                document.querySelectorAll('.detail-row, .term-row, .size-label, .size-detail, textarea, .notes-label, .option-header, .terms-header, .selector-header, .comparison-table td, .comparison-table th, .offer-expiry, .time-essence-clause, .meeting-info, h1').forEach(el => {
                    const baseSize = parseInt(window.getComputedStyle(el).fontSize);
                    el.dataset.originalSize = baseSize;
                    el.style.fontSize = (baseSize * ratio) + 'px';
                });
            } else {
                // Store original sizes
                document.querySelectorAll('.detail-row, .term-row, .size-label, .size-detail, textarea, .notes-label, .option-header, .terms-header, .selector-header, .comparison-table td, .comparison-table th, .offer-expiry, .time-essence-clause, .meeting-info, h1').forEach(el => {
                    el.dataset.originalSize = parseInt(window.getComputedStyle(el).fontSize);
                });
            }
            
            // Load notes
            options.forEach(option => {
                const savedNote = localStorage.getItem(`sukh-meeting-${option}`);
                if (savedNote) {
                    document.getElementById(`notes-${option}`).value = savedNote;
                }
            });
            
            // Load registry details
            const savedDate = localStorage.getItem('sukh-registry-date');
            const savedTime = localStorage.getItem('sukh-registry-time');
            if (savedDate) document.getElementById('registryDate').value = savedDate;
            if (savedTime) document.getElementById('registryTime').value = savedTime;
            
            // Initial calculations
            updateCalculations();
        });
        
        // Auto-save notes
        options.forEach(option => {
            const textarea = document.getElementById(`notes-${option}`);
            const savedIndicator = document.getElementById(`saved-${option}`);
            
            textarea.addEventListener('input', () => {
                localStorage.setItem(`sukh-meeting-${option}`, textarea.value);
                savedIndicator.classList.add('show');
                setTimeout(() => savedIndicator.classList.remove('show'), 2000);
            });
        });
        
        // Auto-save registry details
        document.getElementById('registryDate').addEventListener('change', (e) => {
            localStorage.setItem('sukh-registry-date', e.target.value);
            showToast('Registry date saved', 'success');
        });
        
        document.getElementById('registryTime').addEventListener('change', (e) => {
            localStorage.setItem('sukh-registry-time', e.target.value);
            showToast('Registry time saved', 'success');
        });
        
        // Toast notification
        function showToast(message, type = 'info') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = `toast ${type}`;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }
        
        // Update calculations when size changes
        function updateCalculations() {
            const selectedSize = parseInt(document.querySelector('input[name="landSize"]:checked').value);
            const vipulKeeps = 56 - selectedSize;
            
            showToast(`You selected ${selectedSize} Kanals (Vipul keeps ${vipulKeeps} Kanals)`, 'info');
            
            updateComparisonTable(selectedSize);
            
            for (let i = 0; i < 4; i++) {
                updateOptionCard(i + 1, selectedSize, priceOptions[i]);
            }
        }
        
        // Update comparison table
        function updateComparisonTable(kanals) {
            const tbody = document.getElementById('comparisonTableBody');
            tbody.innerHTML = '';
            
            priceOptions.forEach((opt, index) => {
                const perKanal = opt.perAcre / 8;
                const total = perKanal * kanals;
                const bayana = total * 0.4;
                const balance = total * 0.6;
                const vsMarket = total - (70 / 8 * kanals);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>OPTION ${index + 1}</strong></td>
                    <td>‚Çπ${opt.perAcre} L</td>
                    <td>‚Çπ${perKanal.toFixed(3)} L</td>
                    <td><strong>‚Çπ${total.toFixed(2)} L</strong></td>
                    <td><strong>‚Çπ${bayana.toFixed(2)} L</strong></td>
                    <td>‚Çπ${balance.toFixed(2)} L</td>
                    <td>${vsMarket > 0 ? '+' : ''}‚Çπ${vsMarket.toFixed(2)}L</td>
                `;
                tbody.appendChild(row);
            });
        }
        
        // Update option card
        function updateOptionCard(optNum, kanals, priceConfig) {
            const perKanal = priceConfig.perAcre / 8;
            const total = perKanal * kanals;
            const bayana = total * 0.4;
            const balance = total * 0.6;
            
            document.getElementById(`opt${optNum}-perKanal`).textContent = `‚Çπ${perKanal.toFixed(3)} Lakhs`;
            document.getElementById(`opt${optNum}-size`).textContent = `${kanals} Kanals`;
            document.getElementById(`opt${optNum}-total`).textContent = `‚Çπ${total.toFixed(2)} Lakhs`;
            document.getElementById(`opt${optNum}-bayana`).textContent = `‚Çπ${bayana.toFixed(2)} Lakhs`;
            document.getElementById(`opt${optNum}-balance`).textContent = `‚Çπ${balance.toFixed(2)} Lakhs`;
            document.getElementById(`opt${optNum}-premium`).textContent = priceConfig.premium;
        }
        
        // Clear notes
        function clearNotes(option) {
            if (confirm('Delete notes for this option?')) {
                document.getElementById(`notes-${option}`).value = '';
                localStorage.removeItem(`sukh-meeting-${option}`);
                showToast('Notes deleted', 'success');
            }
        }
        
        // Generate message text
        function generateMessageText(timestamp) {
            const selectedSize = parseInt(document.querySelector('input[name="landSize"]:checked').value);
            const vipulKeeps = 56 - selectedSize;
            const registryDate = document.getElementById('registryDate').value || '[To be decided]';
            const registryTime = document.getElementById('registryTime').value || '[To be decided]';
            
            let text = `SUKH MEETING NOTES - ${timestamp}\n`;
            text += `===============================================\n\n`;
            text += `LAND SIZE SELECTED: ${selectedSize} Kanals\n`;
            text += `(Buyer: ${selectedSize}K | Vipul keeps: ${vipulKeeps}K)\n\n`;
            text += `REGISTRY PERIOD: March 2026\n`;
            text += `CURRENT MARKET: ‚Çπ70-75 Lakhs/Acre\n\n`;
            text += `REGISTRY DATE: ${registryDate}\n`;
            text += `REGISTRY TIME: ${registryTime}\n`;
            text += `VENUE: Sub-Registrar Office, Pehowa Tehsil, District Kurukshetra\n\n`;
            text += `BAYANA TERMS:\n`;
            text += `‚Ä¢ Advance: 40% of total amount\n`;
            text += `‚Ä¢ Payment Deadline: December 31, 2025, 11:59 PM\n`;
            text += `‚Ä¢ Failure by SELLER: Pays DOUBLE bayana to buyer\n`;
            text += `‚Ä¢ Failure by BUYER: Forfeits entire bayana\n\n`;
            text += `===============================================\n\n`;
            
            priceOptions.forEach((opt, index) => {
                const notes = document.getElementById(`notes-option${index + 1}`).value;
                const perKanal = opt.perAcre / 8;
                const total = perKanal * selectedSize;
                const bayana = total * 0.4;
                const balance = total * 0.6;
                
                text += `OPTION ${index + 1}: ${opt.name}\n`;
                text += `Rate: ‚Çπ${opt.perAcre}L/acre | Total: ‚Çπ${total.toFixed(2)} Lakhs | Premium: ${opt.premium}\n`;
                text += `Bayana (40%): ‚Çπ${bayana.toFixed(2)}L | Balance (60%): ‚Çπ${balance.toFixed(2)}L\n`;
                text += `-----------------------------------------------\n`;
                text += `NOTES:\n`;
                text += notes ? notes : '[No notes recorded]';
                text += `\n\n===============================================\n\n`;
            });
            
            return text;
        }
        
        // Export notes
        function exportNotes() {
            const timestamp = new Date().toLocaleString('en-IN', { 
                timeZone: 'Asia/Kolkata',
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            const exportText = generateMessageText(timestamp);
            const blob = new Blob([exportText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `sukh-meeting-notes-${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showToast('Notes exported successfully!', 'success');
        }
        
        // Open send modal
        function openSendModal() {
            const timestamp = new Date().toLocaleString('en-IN', { 
                timeZone: 'Asia/Kolkata',
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            const messageText = generateMessageText(timestamp);
            document.getElementById('messagePreview').textContent = messageText;
            document.getElementById('sendModal').style.display = 'block';
        }
        
        // Close send modal
        function closeSendModal() {
            document.getElementById('sendModal').style.display = 'none';
        }
        
        // Browse contacts
        async function browseContacts() {
            if ('contacts' in navigator && 'ContactsManager' in window) {
                try {
                    const props = ['tel'];
                    const opts = { multiple: false };
                    const contacts = await navigator.contacts.select(props, opts);
                    
                    if (contacts.length > 0 && contacts[0].tel && contacts[0].tel.length > 0) {
                        let phoneNumber = contacts[0].tel[0];
                        phoneNumber = phoneNumber.replace(/\s+/g, '').replace(/[^0-9+]/g, '');
                        document.getElementById('phoneNumber').value = phoneNumber;
                        showToast('Contact selected', 'success');
                    }
                } catch (error) {
                    showToast('Could not access contacts. Please enter manually.', 'info');
                }
            } else {
                showToast('Contact picker not supported. Please enter manually.', 'info');
            }
        }
        
        // Send via WhatsApp
        function sendViaWhatsApp() {
            const phoneNumber = document.getElementById('phoneNumber').value.trim();
            
            if (!phoneNumber) {
                showToast('Please enter a phone number', 'info');
                return;
            }
            
            const cleanPhone = phoneNumber.replace(/\s+/g, '').replace(/[^0-9+]/g, '');
            const messageText = document.getElementById('messagePreview').textContent;
            const encodedMessage = encodeURIComponent(messageText);
            const whatsappURL = `https://wa.me/${cleanPhone}?text=${encodedMessage}`;
            
            window.open(whatsappURL, '_blank');
            showToast('Opening WhatsApp...', 'success');
            setTimeout(() => closeSendModal(), 1000);
        }
        
        // Close modal on outside click
        window.onclick = function(event) {
            const modal = document.getElementById('sendModal');
            if (event.target == modal) {
                closeSendModal();
            }
        }
    </script>
</body>
</html>
